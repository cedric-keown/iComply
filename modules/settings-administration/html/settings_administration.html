<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Settings & Administration - iComply</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- FontAwesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Phoenix Theme CSS -->
    <link href="https://prium.github.io/phoenix/v1.23.0/assets/css/phoenix.min.css" rel="stylesheet">
    <link href="https://prium.github.io/phoenix/v1.23.0/assets/css/theme.min.css" rel="stylesheet">
    <!-- SweetAlert2 -->
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet">
    <!-- Custom Styles -->
    <link href="../../../css/main.css" rel="stylesheet">
    <link href="../css/settings-styles.css" rel="stylesheet">
</head>
<body>
    <div class="settings-container">
        <!-- Navigation Tabs -->
        <ul class="nav nav-tabs mb-4" id="settingsTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="general-tab" data-bs-toggle="tab" data-bs-target="#general" type="button" role="tab">
                    <i class="fas fa-cog me-2"></i>General Settings
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="users-tab" data-bs-toggle="tab" data-bs-target="#users" type="button" role="tab">
                    <i class="fas fa-users me-2"></i>User Management
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="fsp-tab" data-bs-toggle="tab" data-bs-target="#fsp" type="button" role="tab">
                    <i class="fas fa-building me-2"></i>FSP Configuration
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="notifications-tab" data-bs-toggle="tab" data-bs-target="#notifications" type="button" role="tab">
                    <i class="fas fa-bell me-2"></i>Notifications & Alerts
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="security-tab" data-bs-toggle="tab" data-bs-target="#security" type="button" role="tab">
                    <i class="fas fa-shield-alt me-2"></i>Security & Access
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="integrations-tab" data-bs-toggle="tab" data-bs-target="#integrations" type="button" role="tab">
                    <i class="fas fa-plug me-2"></i>Integrations
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="system-settings-tab" data-bs-toggle="tab" data-bs-target="#system-settings" type="button" role="tab">
                    <i class="fas fa-sliders-h me-2"></i>System Settings
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="corporate-identity-tab" data-bs-toggle="tab" data-bs-target="#corporate-identity" type="button" role="tab">
                    <i class="fas fa-palette me-2"></i>Corporate Identity
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="maintenance-tab" data-bs-toggle="tab" data-bs-target="#maintenance" type="button" role="tab">
                    <i class="fas fa-tools me-2"></i>System Maintenance
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="audit-tab" data-bs-toggle="tab" data-bs-target="#audit" type="button" role="tab">
                    <i class="fas fa-clipboard-list me-2"></i>Audit Logs
                </button>
            </li>
        </ul>

        <div class="tab-content" id="settingsTabContent">
            <!-- TAB 1: GENERAL SETTINGS -->
            <div class="tab-pane fade show active" id="general" role="tabpanel">
                <div class="mb-4">
                    <h3>General Settings</h3>
                    <p class="text-muted">Configure basic system preferences and defaults</p>
                </div>

                <!-- FSP Information -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">FSP Information</h5>
                    </div>
                    <div class="card-body">
                        <form id="fspInfoForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">FSP Name <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="fspName" required>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">FSP License Number <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="fspLicense" required>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Registration Number</label>
                                    <input type="text" class="form-control" id="regNumber">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">VAT Number</label>
                                    <input type="text" class="form-control" id="vatNumber">
                                </div>
                                <div class="col-12">
                                    <label class="form-label">Primary Business Address <span class="text-danger">*</span></label>
                                </div>
                                <div class="col-md-12">
                                    <input type="text" class="form-control mb-2" id="street" placeholder="Street Address (e.g. 123 Main Street, Cape Town CBD)" value="" required>
                                </div>
                                <div class="col-md-6">
                                    <input type="text" class="form-control mb-2" id="city" placeholder="City" value="" required>
                                </div>
                                <div class="col-md-2">
                                    <select class="form-select mb-2" id="province" required>
                                        <option value="">Select Province</option>
                                        <option value="WC">Western Cape</option>
                                        <option value="EC">Eastern Cape</option>
                                        <option value="FS">Free State</option>
                                        <option value="GP">Gauteng</option>
                                        <option value="KZN">KwaZulu-Natal</option>
                                        <option value="LP">Limpopo</option>
                                        <option value="MP">Mpumalanga</option>
                                        <option value="NC">Northern Cape</option>
                                        <option value="NW">North West</option>
                                    </select>
                                </div>
                                <div class="col-md-2">
                                    <input type="text" class="form-control mb-2" id="postalCode" placeholder="Postal Code" value="" required>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Phone</label>
                                    <input type="tel" class="form-control" id="phone">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Email</label>
                                    <input type="email" class="form-control" id="email" value="">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Website</label>
                                    <input type="url" class="form-control" id="website" value="" placeholder="https://example.co.za">
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary">Save Changes</button>
                                    <button type="button" class="btn btn-secondary" onclick="loadFSPConfiguration()">Reload</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Regional & Localization -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Regional & Localization</h5>
                    </div>
                    <div class="card-body">
                        <form id="localizationForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">Time Zone <span class="text-danger">*</span></label>
                                    <select class="form-select" id="timezone" required>
                                        <option value="Africa/Johannesburg" selected>Africa/Johannesburg (SAST, UTC+2)</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Date Format <span class="text-danger">*</span></label>
                                    <div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="dateFormat" id="dateFormat1" value="DD/MM/YYYY" checked>
                                            <label class="form-check-label" for="dateFormat1">
                                                DD/MM/YYYY (e.g., 23/11/2024)
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="dateFormat" id="dateFormat2" value="MM/DD/YYYY">
                                            <label class="form-check-label" for="dateFormat2">
                                                MM/DD/YYYY (e.g., 11/23/2024)
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="dateFormat" id="dateFormat3" value="YYYY-MM-DD">
                                            <label class="form-check-label" for="dateFormat3">
                                                YYYY-MM-DD (e.g., 2024-11-23)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Time Format <span class="text-danger">*</span></label>
                                    <div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="timeFormat" id="timeFormat1" value="24" checked>
                                            <label class="form-check-label" for="timeFormat1">
                                                24-hour (e.g., 15:30)
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="timeFormat" id="timeFormat2" value="12">
                                            <label class="form-check-label" for="timeFormat2">
                                                12-hour (e.g., 3:30 PM)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Currency <span class="text-danger">*</span></label>
                                    <select class="form-select" id="currency" required>
                                        <option value="ZAR" selected>ZAR (South African Rand)</option>
                                    </select>
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary">Save Changes</button>
                                    <button type="button" class="btn btn-secondary">Cancel</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Business Hours & Working Days -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Business Hours & Working Days</h5>
                    </div>
                    <div class="card-body">
                        <form id="businessHoursForm">
                            <div class="mb-3">
                                <label class="form-label">Standard Working Days</label>
                                <div class="d-flex flex-wrap gap-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="dayMon" checked>
                                        <label class="form-check-label" for="dayMon">Monday</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="dayTue" checked>
                                        <label class="form-check-label" for="dayTue">Tuesday</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="dayWed" checked>
                                        <label class="form-check-label" for="dayWed">Wednesday</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="dayThu" checked>
                                        <label class="form-check-label" for="dayThu">Thursday</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="dayFri" checked>
                                        <label class="form-check-label" for="dayFri">Friday</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="daySat">
                                        <label class="form-check-label" for="daySat">Saturday</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="daySun">
                                        <label class="form-check-label" for="daySun">Sunday</label>
                                    </div>
                                </div>
                            </div>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">Business Hours (Monday - Friday)</label>
                                    <div class="d-flex gap-2 align-items-center">
                                        <input type="time" class="form-control" id="startTime">
                                        <span>to</span>
                                        <input type="time" class="form-control" id="endTime">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Public Holidays</label>
                                    <div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="publicHolidays" id="publicHolidays1" value="sa" checked>
                                            <label class="form-check-label" for="publicHolidays1">
                                                Use South African public holidays
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="publicHolidays" id="publicHolidays2" value="custom">
                                            <label class="form-check-label" for="publicHolidays2">
                                                Custom holiday calendar
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary">Save Changes</button>
                                    <button type="button" class="btn btn-secondary">Cancel</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Compliance Cycle Settings -->
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Compliance Cycle Settings</h5>
                    </div>
                    <div class="card-body">
                        <form id="complianceCycleForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">CPD Cycle Period</label>
                                    <div class="d-flex gap-2 align-items-center">
                                        <select class="form-select" id="cpdStartMonth">
                                            <option value="">Select Start Month</option>
                                            <option value="1">1 June</option>
                                            <option value="2">1 July</option>
                                            <option value="3">1 August</option>
                                            <option value="4">1 September</option>
                                            <option value="5">1 October</option>
                                            <option value="6">1 November</option>
                                            <option value="7">1 December</option>
                                            <option value="8">1 January</option>
                                            <option value="9">1 February</option>
                                            <option value="10">1 March</option>
                                            <option value="11">1 April</option>
                                            <option value="12">1 May</option>
                                        </select>
                                        <span>to</span>
                                        <select class="form-select" id="cpdEndMonth">
                                            <option value="">Select End Month</option>
                                            <option value="1">31 May</option>
                                            <option value="2">30 June</option>
                                            <option value="3">31 July</option>
                                            <option value="4">31 August</option>
                                            <option value="5">30 September</option>
                                            <option value="6">31 October</option>
                                            <option value="7">30 November</option>
                                            <option value="8">31 December</option>
                                            <option value="9">31 January</option>
                                            <option value="10">28/29 February</option>
                                            <option value="11">31 March</option>
                                            <option value="12">30 April</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Required CPD Hours</label>
                                    <div class="row g-2">
                                        <div class="col-6">
                                            <input type="number" class="form-control" id="totalHours" min="0" placeholder="Total Hours">
                                            <small class="text-muted">Total Hours</small>
                                        </div>
                                        <div class="col-6">
                                            <input type="number" class="form-control" id="ethicsHours" min="0" placeholder="Ethics Hours">
                                            <small class="text-muted">Ethics (minimum)</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Fit & Proper Review Frequency</label>
                                    <div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="fpReview" id="fpReview1" value="annual" checked>
                                            <label class="form-check-label" for="fpReview1">Annual Review</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="fpReview" id="fpReview2" value="biannual">
                                            <label class="form-check-label" for="fpReview2">Biannual Review</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">FICA Review Requirements</label>
                                    <div class="row g-2">
                                        <div class="col-4">
                                            <input type="number" class="form-control" id="ficaIndividual" value="5" min="1">
                                            <small class="text-muted">Individual (years)</small>
                                        </div>
                                        <div class="col-4">
                                            <input type="number" class="form-control" id="ficaCorporate" value="3" min="1">
                                            <small class="text-muted">Corporate (years)</small>
                                        </div>
                                        <div class="col-4">
                                            <input type="number" class="form-control" id="ficaHighRisk" value="1" min="1">
                                            <small class="text-muted">High-Risk (years)</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary">Save Changes</button>
                                    <button type="button" class="btn btn-secondary">Cancel</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- TAB 2: USER MANAGEMENT -->
            <div class="tab-pane fade" id="users" role="tabpanel">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <div>
                        <h3>User Management</h3>
                        <p class="text-muted mb-0">Manage users, roles, and access permissions</p>
                    </div>
                    <div class="d-flex gap-2">
                        <button class="btn btn-primary" id="addUserBtn">
                            <i class="fas fa-plus me-1"></i> Add New User
                        </button>
                    </div>
                </div>

                <!-- Filters -->
                <div class="card mb-4">
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-md-4">
                                <input type="text" class="form-control" id="userSearch" placeholder="Search by name or email...">
                            </div>
                            <div class="col-md-2">
                                <select class="form-select" id="roleFilter">
                                    <option value="all">All Roles</option>
                                    <!-- Populated by JavaScript from database -->
                                </select>
                            </div>
                            <div class="col-md-2">
                                <select class="form-select" id="statusFilter">
                                    <option value="all">All Statuses</option>
                                    <option value="active">Active</option>
                                    <option value="inactive">Inactive</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <select class="form-select" id="sortUsers">
                                    <option value="name-asc">Name (A-Z)</option>
                                    <option value="name-desc">Name (Z-A)</option>
                                    <option value="date-asc">Newest First</option>
                                    <option value="date-desc">Oldest First</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <button class="btn btn-outline-secondary w-100" id="applyUserFilters">
                                    <i class="fas fa-filter me-1"></i> Filter
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Users Table -->
                <div class="card mb-4">
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>User Name</th>
                                        <th>Email Address</th>
                                        <th>Role</th>
                                        <th><i class="fas fa-user-tie me-1"></i>Linked Representative</th>
                                        <th>Status</th>
                                        <th>Last Login</th>
                                        <th>Created Date</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="usersTableBody">
                                    <!-- Populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- User Roles Management Section -->
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">User Roles Management</h5>
                        <button class="btn btn-sm btn-primary" id="addRoleBtn">
                            <i class="fas fa-plus me-1"></i> Add New Role
                        </button>
                    </div>
                    <div class="card-body">
                        <p class="text-muted mb-3">Manage user roles and their permissions. Roles define what users can access and do in the system.</p>
                        
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Role Name</th>
                                        <th>Display Name</th>
                                        <th>Description</th>
                                        <th>Permissions</th>
                                        <th>Created</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="userRolesTableBody">
                                    <tr>
                                        <td colspan="6" class="text-center">
                                            <div class="spinner-border text-primary" role="status">
                                                <span class="visually-hidden">Loading...</span>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TAB 3: FSP CONFIGURATION -->
            <div class="tab-pane fade" id="fsp" role="tabpanel">
                <div class="mb-4">
                    <h3>FSP Configuration</h3>
                    <p class="text-muted">Configure FSP-specific settings and compliance parameters</p>
                </div>

                <!-- License & Authorization -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">License & Authorization</h5>
                    </div>
                    <div class="card-body">
                        <form id="licenseForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">License Number</label>
                                    <input type="text" class="form-control" id="licenseNumber" readonly>
                                    <small class="text-muted">License number is managed in FSP Information section</small>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Issue Date</label>
                                    <input type="date" class="form-control" id="issueDate">
                                    <small class="text-muted">Date when FSP license was issued</small>
                                </div>
                                <div class="col-12">
                                    <label class="form-label">Categories of Advice Authorized</label>
                                    <div class="row g-2">
                                        <div class="col-md-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="cat1">
                                                <label class="form-check-label" for="cat1">
                                                    Category I - Long-term Insurance
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="cat2">
                                                <label class="form-check-label" for="cat2">
                                                    Category II - Short-term Insurance
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="cat3">
                                                <label class="form-check-label" for="cat3">
                                                    Category III - Retail Pension Benefits
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary">Save Changes</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Key Individuals & Compliance Officer -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Key Individuals & Compliance Officer</h5>
                    </div>
                    <div class="card-body" id="keyIndividualsList">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>

                <!-- Compliance Thresholds & Alert Rules -->
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Compliance Thresholds & Alert Rules</h5>
                    </div>
                    <div class="card-body">
                        <form id="thresholdsForm">
                            <div class="mb-4">
                                <h6>CPD Compliance Alerts</h6>
                                <div class="row g-3">
                                    <div class="col-md-4">
                                        <label class="form-label">Critical Alert Threshold</label>
                                        <input type="number" class="form-control" id="cpdCritical" value="50" min="0" max="100">
                                        <small class="text-muted">% completion</small>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">Warning Threshold</label>
                                        <input type="number" class="form-control" id="cpdWarning" value="70" min="0" max="100">
                                        <small class="text-muted">% completion</small>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label">First Alert (days before deadline)</label>
                                        <input type="number" class="form-control" id="cpdFirstAlert" value="180" min="0">
                                    </div>
                                </div>
                            </div>
                            <div class="mb-4">
                                <h6>Fit & Proper Alerts</h6>
                                <div class="row g-3">
                                    <div class="col-md-3">
                                        <label class="form-label">First Notification</label>
                                        <input type="number" class="form-control" id="fpFirst" value="90" min="0">
                                        <small class="text-muted">days before expiry</small>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Follow-up</label>
                                        <input type="number" class="form-control" id="fpFollowup" value="60" min="0">
                                        <small class="text-muted">days before expiry</small>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Urgent</label>
                                        <input type="number" class="form-control" id="fpUrgent" value="30" min="0">
                                        <small class="text-muted">days before expiry</small>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label">Final</label>
                                        <input type="number" class="form-control" id="fpFinal" value="7" min="0">
                                        <small class="text-muted">days before expiry</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <button type="submit" class="btn btn-primary">Save Changes</button>
                                <button type="button" class="btn btn-outline-primary">Test Alert System</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- TAB 4: NOTIFICATIONS & ALERTS -->
            <div class="tab-pane fade" id="notifications" role="tabpanel">
                <div class="mb-4">
                    <h3>Notifications & Alerts</h3>
                    <p class="text-muted">Configure how and when users receive notifications</p>
                </div>

                <!-- Email Notification Settings -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Email Notification Settings</h5>
                    </div>
                    <div class="card-body">
                        <form id="emailSettingsForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">SMTP Server</label>
                                    <input type="text" class="form-control" id="smtpServer" value="smtp.gmail.com">
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Port</label>
                                    <input type="number" class="form-control" id="smtpPort" value="587">
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Encryption</label>
                                    <select class="form-select" id="smtpEncryption">
                                        <option value="TLS" selected>TLS</option>
                                        <option value="SSL">SSL</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Username</label>
                                    <input type="text" class="form-control" id="smtpUsername" value="notifications@brightfuture.co.za">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Password</label>
                                    <div class="input-group">
                                        <input type="password" class="form-control" id="smtpPassword" value="••••••••••••">
                                        <button class="btn btn-outline-secondary" type="button">Change</button>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">From Name</label>
                                    <input type="text" class="form-control" id="fromName" value="Bright Future Compliance System">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">From Email</label>
                                    <input type="email" class="form-control" id="fromEmail" value="compliance@brightfuture.co.za">
                                </div>
                                <div class="col-12">
                                    <button type="button" class="btn btn-outline-primary" id="testEmailBtn">
                                        <i class="fas fa-paper-plane me-1"></i> Send Test Email
                                    </button>
                                    <button type="submit" class="btn btn-primary">Save Changes</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Alert Escalation Rules -->
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Alert Escalation Rules</h5>
                    </div>
                    <div class="card-body">
                        <form id="escalationForm">
                            <div class="mb-4">
                                <h6>Escalation Level 1: Representative</h6>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label class="form-label">Timing</label>
                                        <input type="text" class="form-control" value="Immediate" readonly>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Recipients</label>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="esc1Rep" checked>
                                            <label class="form-check-label" for="esc1Rep">Representative</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mb-4">
                                <h6>Escalation Level 2: Key Individual</h6>
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label class="form-label">Timing</label>
                                        <input type="number" class="form-control" id="esc2Timing" value="7" min="0">
                                        <small class="text-muted">days after Level 1 with no action</small>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label">Recipients</label>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="esc2Rep" checked>
                                            <label class="form-check-label" for="esc2Rep">Representative</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="esc2KI" checked>
                                            <label class="form-check-label" for="esc2KI">Key Individual (Supervisor)</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <button type="submit" class="btn btn-primary">Save Escalation Rules</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- TAB 5: SECURITY & ACCESS -->
            <div class="tab-pane fade" id="security" role="tabpanel">
                <div class="mb-4">
                    <h3>Security & Access Control</h3>
                    <p class="text-muted">Manage security settings and access controls</p>
                </div>

                <!-- Password Policy -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Password Policy</h5>
                    </div>
                    <div class="card-body">
                        <form id="passwordPolicyForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">Minimum Length</label>
                                    <input type="number" class="form-control" id="minLength" value="8" min="4" max="32">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Maximum Length</label>
                                    <input type="number" class="form-control" id="maxLength" value="32" min="8" max="128">
                                </div>
                                <div class="col-12">
                                    <label class="form-label">Complexity Requirements</label>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="reqUpper" checked>
                                        <label class="form-check-label" for="reqUpper">Must contain uppercase letters (A-Z)</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="reqLower" checked>
                                        <label class="form-check-label" for="reqLower">Must contain lowercase letters (a-z)</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="reqNumbers" checked>
                                        <label class="form-check-label" for="reqNumbers">Must contain numbers (0-9)</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="reqSpecial" checked>
                                        <label class="form-check-label" for="reqSpecial">Must contain special characters (!@#$%^&*)</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Password History</label>
                                    <input type="number" class="form-control" id="passwordHistory" value="5" min="0" max="20">
                                    <small class="text-muted">Prevent reuse of last N passwords</small>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Password Expiration</label>
                                    <input type="number" class="form-control" id="passwordExpiry" value="90" min="0">
                                    <small class="text-muted">days (0 = never expire)</small>
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary">Save Policy</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Two-Factor Authentication -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Two-Factor Authentication (2FA)</h5>
                    </div>
                    <div class="card-body">
                        <form id="twoFactorForm">
                            <div class="mb-3">
                                <label class="form-label">2FA Status</label>
                                <div class="alert alert-success">
                                    <strong>✅ Enabled</strong>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Enforcement Policy</label>
                                <div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="twoFactorPolicy" id="twoFactor1" value="all" checked>
                                        <label class="form-check-label" for="twoFactor1">Required for all users</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="twoFactorPolicy" id="twoFactor2" value="admin">
                                        <label class="form-check-label" for="twoFactor2">Required for admin roles only</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="twoFactorPolicy" id="twoFactor3" value="optional">
                                        <label class="form-check-label" for="twoFactor3">Optional (user choice)</label>
                                    </div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">2FA Methods Allowed</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="methodApp" checked>
                                    <label class="form-check-label" for="methodApp">Authenticator App (Google Authenticator, etc.)</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="methodSMS" checked>
                                    <label class="form-check-label" for="methodSMS">SMS to registered mobile number</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="methodEmail" checked>
                                    <label class="form-check-label" for="methodEmail">Email verification code</label>
                                </div>
                            </div>
                            <div class="col-12">
                                <button type="submit" class="btn btn-primary">Save Changes</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Session Management -->
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Session Management</h5>
                    </div>
                    <div class="card-body">
                        <form id="sessionForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">Idle Timeout</label>
                                    <input type="number" class="form-control" id="idleTimeout" value="30" min="5" max="480">
                                    <small class="text-muted">minutes of inactivity</small>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Absolute Timeout</label>
                                    <input type="number" class="form-control" id="absoluteTimeout" value="8" min="1" max="24">
                                    <small class="text-muted">hours (max session length)</small>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Maximum Concurrent Sessions</label>
                                    <input type="number" class="form-control" id="maxSessions" value="3" min="1" max="10">
                                </div>
                                <div class="col-12">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="invalidateOnPasswordChange" checked>
                                        <label class="form-check-label" for="invalidateOnPasswordChange">Invalidate sessions on password change</label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="trackIP" checked>
                                        <label class="form-check-label" for="trackIP">Track IP addresses and devices</label>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary">Save Changes</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- TAB 6: INTEGRATIONS -->
            <div class="tab-pane fade" id="integrations" role="tabpanel">
                <div class="mb-4">
                    <h3>Integrations</h3>
                    <p class="text-muted">Connect with external services and platforms</p>
                </div>

                <div class="row g-3" id="integrationsList">
                    <!-- Populated by JavaScript -->
                </div>
            </div>

            <!-- TAB 7: SYSTEM SETTINGS -->
            <div class="tab-pane fade" id="system-settings" role="tabpanel">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <div>
                        <h3>System Settings</h3>
                        <p class="text-muted mb-0">Manage key-value system configuration settings</p>
                    </div>
                    <button class="btn btn-primary" id="addSystemSettingBtn">
                        <i class="fas fa-plus me-1"></i> Add New Setting
                    </button>
                </div>

                <!-- Filters -->
                <div class="card mb-4">
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-md-4">
                                <label class="form-label">Category Filter</label>
                                <select class="form-select" id="settingsCategoryFilter">
                                    <option value="">All Categories</option>
                                    <option value="general">General</option>
                                    <option value="compliance">Compliance</option>
                                    <option value="notifications">Notifications</option>
                                    <option value="security">Security</option>
                                    <option value="branding">Branding</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">Search</label>
                                <input type="text" class="form-control" id="settingsSearch" placeholder="Search by key or description...">
                            </div>
                            <div class="col-md-4">
                                <label class="form-label">&nbsp;</label>
                                <button class="btn btn-outline-secondary w-100" id="applySettingsFilters">
                                    <i class="fas fa-filter me-1"></i> Apply Filters
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Settings Table -->
                <div class="card">
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Key</th>
                                        <th>Value</th>
                                        <th>Type</th>
                                        <th>Category</th>
                                        <th>Description</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="systemSettingsTableBody">
                                    <tr>
                                        <td colspan="6" class="text-center">
                                            <div class="spinner-border text-primary" role="status">
                                                <span class="visually-hidden">Loading...</span>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TAB 8: CORPORATE IDENTITY -->
            <div class="tab-pane fade" id="corporate-identity" role="tabpanel">
                <div class="mb-4">
                    <h3>Corporate Identity</h3>
                    <p class="text-muted">Customize your organization's branding, colors, and visual identity</p>
                </div>

                <!-- Brand Colors -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0"><i class="fas fa-palette me-2"></i>Brand Colors</h5>
                    </div>
                    <div class="card-body">
                        <form id="brandColorsForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">Primary Color <span class="text-danger">*</span></label>
                                    <div class="input-group">
                                        <input type="color" class="form-control form-control-color" id="primaryColor" value="#5CBDB4" title="Choose primary color">
                                        <input type="text" class="form-control" id="primaryColorHex" value="#5CBDB4" placeholder="#5CBDB4" pattern="^#[0-9A-Fa-f]{6}$">
                                    </div>
                                    <small class="text-muted">Main brand color used throughout the application</small>
                                    <div class="mt-2">
                                        <div class="color-preview" style="width: 100%; height: 40px; background-color: #5CBDB4; border-radius: 4px; border: 1px solid #dee2e6;" id="primaryColorPreview"></div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Secondary Color</label>
                                    <div class="input-group">
                                        <input type="color" class="form-control form-control-color" id="secondaryColor" value="#6b7280" title="Choose secondary color">
                                        <input type="text" class="form-control" id="secondaryColorHex" value="#6b7280" placeholder="#6b7280" pattern="^#[0-9A-Fa-f]{6}$">
                                    </div>
                                    <small class="text-muted">Accent color for highlights and secondary elements</small>
                                    <div class="mt-2">
                                        <div class="color-preview" style="width: 100%; height: 40px; background-color: #6b7280; border-radius: 4px; border: 1px solid #dee2e6;" id="secondaryColorPreview"></div>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="alert alert-info">
                                        <i class="fas fa-info-circle me-2"></i>
                                        <strong>Tip:</strong> Changes will be applied immediately. Use colors that provide good contrast for accessibility.
                                    </div>
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-save me-1"></i> Save Colors
                                    </button>
                                    <button type="button" class="btn btn-outline-secondary" id="resetColorsBtn">
                                        <i class="fas fa-undo me-1"></i> Reset to Default
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Company Logo -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0"><i class="fas fa-image me-2"></i>Company Logo</h5>
                    </div>
                    <div class="card-body">
                        <form id="logoForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">Current Logo</label>
                                    <div class="logo-preview-container mb-3">
                                        <img id="logoPreview" src="" alt="Company Logo" style="max-width: 200px; max-height: 100px; border: 1px solid #dee2e6; border-radius: 4px; padding: 10px; background: white; display: none;">
                                        <div id="logoPlaceholder" class="logo-placeholder" style="width: 200px; height: 100px; border: 2px dashed #dee2e6; border-radius: 4px; display: flex; align-items: center; justify-content: center; background: #f8f9fa;">
                                            <div class="text-center text-muted">
                                                <i class="fas fa-image fa-2x mb-2"></i>
                                                <p class="mb-0 small">No logo uploaded</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Upload New Logo</label>
                                    <input type="file" class="form-control" id="logoFile" accept="image/png,image/jpeg,image/jpg,image/svg+xml">
                                    <small class="text-muted">
                                        Recommended: PNG or SVG format, max 2MB. Optimal size: 200x100px or 400x200px for retina displays.
                                    </small>
                                    <div class="mt-2">
                                        <div class="progress" id="logoUploadProgress" style="display: none;">
                                            <div class="progress-bar" role="progressbar" style="width: 0%"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary" id="uploadLogoBtn">
                                        <i class="fas fa-upload me-1"></i> Upload Logo
                                    </button>
                                    <button type="button" class="btn btn-outline-danger" id="removeLogoBtn" style="display: none;">
                                        <i class="fas fa-trash me-1"></i> Remove Logo
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Favicon -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0"><i class="fas fa-bookmark me-2"></i>Favicon</h5>
                    </div>
                    <div class="card-body">
                        <form id="faviconForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">Current Favicon</label>
                                    <div class="favicon-preview-container mb-3">
                                        <img id="faviconPreview" src="" alt="Favicon" style="width: 32px; height: 32px; border: 1px solid #dee2e6; border-radius: 4px; padding: 4px; background: white; display: none;">
                                        <div id="faviconPlaceholder" class="favicon-placeholder" style="width: 32px; height: 32px; border: 2px dashed #dee2e6; border-radius: 4px; display: flex; align-items: center; justify-content: center; background: #f8f9fa;">
                                            <i class="fas fa-bookmark text-muted"></i>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Upload New Favicon</label>
                                    <input type="file" class="form-control" id="faviconFile" accept="image/png,image/x-icon,image/svg+xml">
                                    <small class="text-muted">
                                        Recommended: ICO, PNG, or SVG format, 32x32px or 16x16px. Max 100KB.
                                    </small>
                                    <div class="mt-2">
                                        <div class="progress" id="faviconUploadProgress" style="display: none;">
                                            <div class="progress-bar" role="progressbar" style="width: 0%"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary" id="uploadFaviconBtn">
                                        <i class="fas fa-upload me-1"></i> Upload Favicon
                                    </button>
                                    <button type="button" class="btn btn-outline-danger" id="removeFaviconBtn" style="display: none;">
                                        <i class="fas fa-trash me-1"></i> Remove Favicon
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Company Branding Details -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0"><i class="fas fa-building me-2"></i>Company Branding Details</h5>
                    </div>
                    <div class="card-body">
                        <form id="brandingDetailsForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">Display Name</label>
                                    <input type="text" class="form-control" id="companyDisplayName" placeholder="e.g., Bright Future Financial Services">
                                    <small class="text-muted">Name displayed in navigation and headers (if different from FSP name)</small>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Tagline</label>
                                    <input type="text" class="form-control" id="companyTagline" placeholder="e.g., Your Trusted Financial Partner">
                                    <small class="text-muted">Optional tagline or slogan</small>
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-save me-1"></i> Save Branding Details
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Preview Section -->
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0"><i class="fas fa-eye me-2"></i>Live Preview</h5>
                    </div>
                    <div class="card-body">
                        <p class="text-muted mb-3">See how your branding will appear in the application:</p>
                        <div class="preview-container" style="border: 2px solid #dee2e6; border-radius: 8px; padding: 20px; background: white;">
                            <div class="preview-navbar" style="background: linear-gradient(135deg, var(--primary-color, #5CBDB4), var(--secondary-color, #6b7280)); padding: 15px; border-radius: 4px; margin-bottom: 15px; display: flex; align-items: center; gap: 15px;">
                                <img id="previewLogo" src="" alt="Logo" style="max-height: 40px; display: none;">
                                <span id="previewCompanyName" style="color: white; font-weight: 600; font-size: 1.1rem;">Company Name</span>
                            </div>
                            <div class="preview-content">
                                <button class="btn btn-primary" style="background-color: var(--primary-color, #5CBDB4); border-color: var(--primary-color, #5CBDB4);">
                                    Primary Button
                                </button>
                                <button class="btn btn-outline-primary ms-2" style="color: var(--primary-color, #5CBDB4); border-color: var(--primary-color, #5CBDB4);">
                                    Outline Button
                                </button>
                                <div class="mt-3">
                                    <div style="width: 100%; height: 4px; background-color: var(--primary-color, #5CBDB4); border-radius: 2px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TAB 9: SYSTEM MAINTENANCE -->
            <div class="tab-pane fade" id="maintenance" role="tabpanel">
                <div class="mb-4">
                    <h3>System Maintenance</h3>
                    <p class="text-muted">Manage system health, backups, and maintenance tasks</p>
                </div>

                <!-- System Health Dashboard -->
                <div class="row g-3 mb-4">
                    <div class="col-md-3">
                        <div class="card text-center">
                            <div class="card-body">
                                <h5 class="text-success">✅ HEALTHY</h5>
                                <p class="mb-0">System Status</p>
                                <small class="text-muted">Uptime: 99.98%</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center">
                            <div class="card-body">
                                <h5 class="text-success">✅ HEALTHY</h5>
                                <p class="mb-0">Database Status</p>
                                <small class="text-muted">Connections: 24/100</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center">
                            <div class="card-body">
                                <h5 class="text-warning">⚠️ 76% USED</h5>
                                <p class="mb-0">Storage Usage</p>
                                <small class="text-muted">8.4 GB / 11 GB</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center">
                            <div class="card-body">
                                <h5 class="text-success">✅ GOOD</h5>
                                <p class="mb-0">Performance</p>
                                <small class="text-muted">Avg Load: 0.4</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Backup Management -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Backup Management</h5>
                    </div>
                    <div class="card-body">
                        <form id="backupForm">
                            <div class="row g-3 mb-3">
                                <div class="col-md-6">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="autoBackup" checked>
                                        <label class="form-check-label" for="autoBackup">Enable Automatic Backups</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Schedule</label>
                                    <input type="time" class="form-control" id="backupTime" value="02:00">
                                </div>
                            </div>
                            <div class="mb-3">
                                <h6>Recent Backups</h6>
                                <div class="table-responsive">
                                    <table class="table table-sm">
                                        <thead>
                                            <tr>
                                                <th>Date/Time</th>
                                                <th>Size</th>
                                                <th>Status</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="backupsTableBody">
                                            <!-- Populated by JavaScript -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div>
                                <button type="button" class="btn btn-primary" id="backupNowBtn">
                                    <i class="fas fa-database me-1"></i> Backup Now
                                </button>
                                <button type="submit" class="btn btn-secondary">Save Backup Settings</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Data Retention Policy -->
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">Data Retention Policy</h5>
                    </div>
                    <div class="card-body">
                        <form id="retentionForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">Compliance Documents</label>
                                    <input type="number" class="form-control" id="retentionCompliance" value="5" min="1">
                                    <small class="text-muted">years (FAIS Act requirement: 5 years)</small>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">CPD Records</label>
                                    <input type="number" class="form-control" id="retentionCPD" value="5" min="1">
                                    <small class="text-muted">years after CPD cycle ends</small>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">FICA Documentation</label>
                                    <input type="number" class="form-control" id="retentionFICA" value="5" min="1">
                                    <small class="text-muted">years after client relationship ends</small>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">System Logs</label>
                                    <input type="number" class="form-control" id="retentionLogs" value="1" min="1">
                                    <small class="text-muted">years</small>
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary">Save Retention Policy</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- TAB 9: AUDIT LOGS -->
            <div class="tab-pane fade" id="audit" role="tabpanel">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <div>
                        <h3>Audit Logs</h3>
                        <p class="text-muted mb-0">Complete audit trail of system activities</p>
                    </div>
                    <button class="btn btn-outline-secondary" id="exportAuditLogsBtn">
                        <i class="fas fa-download me-1"></i> Export Logs
                    </button>
                </div>

                <!-- Filters -->
                <div class="card mb-4">
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-md-3">
                                <label class="form-label">Date Range</label>
                                <select class="form-select" id="auditDateRange">
                                    <option value="30" selected>Last 30 days</option>
                                    <option value="90">Last 90 days</option>
                                    <option value="365">Last 12 months</option>
                                    <option value="all">All time</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">User</label>
                                <select class="form-select" id="auditUser">
                                    <option value="all">All Users</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">Action Type</label>
                                <select class="form-select" id="auditAction">
                                    <option value="all">All Actions</option>
                                    <option value="login">Login</option>
                                    <option value="settings_update">Settings Update</option>
                                    <option value="user_create">User Created</option>
                                    <option value="data_export">Data Export</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">Module</label>
                                <select class="form-select" id="auditModule">
                                    <option value="all">All Modules</option>
                                </select>
                            </div>
                        </div>
                        <div class="mt-3">
                            <button class="btn btn-primary" id="applyAuditFilters">
                                <i class="fas fa-filter me-1"></i> Apply Filters
                            </button>
                            <button class="btn btn-outline-secondary" id="clearAuditFilters">
                                <i class="fas fa-times me-1"></i> Clear
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Audit Log Table -->
                <div class="card">
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Timestamp</th>
                                        <th>User</th>
                                        <th>Action</th>
                                        <th>Module</th>
                                        <th>Details</th>
                                        <th>IP Address</th>
                                        <th>Status</th>
                                        <th>View</th>
                                    </tr>
                                </thead>
                                <tbody id="auditLogsTableBody">
                                    <!-- Populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add/Edit User Modal -->
    <div class="modal fade" id="addUserModal" tabindex="-1" aria-labelledby="addUserModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                    <div>
                        <h5 class="modal-title mb-0" id="addUserModalLabel">
                            <i class="fas fa-user-edit me-2"></i>Add New User
                        </h5>
                        <small class="opacity-75">Complete the required fields below to create or update a user profile</small>
                </div>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">
                    <form id="addUserForm">
                        <!-- Progress Indicator (for multi-step feel) -->
                        <div class="mb-4">
                            <div class="d-flex justify-content-between text-center small">
                                <div class="flex-fill">
                                    <div class="mb-1"><i class="fas fa-user fa-lg text-primary"></i></div>
                                    <span class="text-primary fw-bold">Personal Info</span>
                        </div>
                                <div class="flex-fill">
                                    <div class="mb-1"><i class="fas fa-shield-alt fa-lg text-primary"></i></div>
                                    <span class="text-primary fw-bold">Access & Security</span>
                        </div>
                                <div class="flex-fill">
                                    <div class="mb-1"><i class="fas fa-user-tie fa-lg text-primary"></i></div>
                                    <span class="text-primary fw-bold">Representative Link</span>
                        </div>
                        </div>
                            <hr class="mt-2 mb-0">
                        </div>

                        <!-- Section 1: Personal Information -->
                        <div class="card mb-4 shadow-sm">
                            <div class="card-header bg-light">
                                <h6 class="mb-0">
                                    <i class="fas fa-user me-2 text-primary"></i>Personal Information
                                    <small class="text-muted ms-2">Basic user details</small>
                                </h6>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label fw-bold">
                                            <i class="fas fa-user-circle me-1 text-primary"></i>
                                            First Name <span class="text-danger">*</span>
                                        </label>
                                        <input type="text" class="form-control form-control-lg" id="userFirstName" required placeholder="Enter first name">
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label fw-bold">
                                            <i class="fas fa-user-circle me-1 text-primary"></i>
                                            Last Name <span class="text-danger">*</span>
                                        </label>
                                        <input type="text" class="form-control form-control-lg" id="userLastName" required placeholder="Enter last name">
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label fw-bold">
                                            <i class="fas fa-envelope me-1 text-primary"></i>
                                            Email Address <span class="text-danger">*</span>
                                        </label>
                                        <input type="email" class="form-control form-control-lg" id="userEmail" required placeholder="user@example.com">
                                        <small class="text-muted">
                                            <i class="fas fa-info-circle me-1"></i>
                                            This email will be used as the username for login
                                        </small>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label fw-bold">
                                            <i class="fas fa-id-card me-1 text-primary"></i>
                                            ID Number
                                            <small class="text-muted fw-normal">(SA ID)</small>
                                        </label>
                                        <input type="text" class="form-control form-control-lg" id="userIdNumber" placeholder="8001015009087" maxlength="13">
                                        <small class="text-muted">
                                            <i class="fas fa-info-circle me-1"></i>
                                            South African ID number (13 digits)
                                        </small>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label fw-bold">
                                            <i class="fas fa-mobile-alt me-1 text-primary"></i>
                                            Mobile Number
                                        </label>
                                        <input type="tel" class="form-control form-control-lg" id="userMobile" placeholder="+27 82 123 4567">
                                        <small class="text-muted">
                                            <i class="fas fa-info-circle me-1"></i>
                                            Primary contact number
                                        </small>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label fw-bold">
                                            <i class="fas fa-phone me-1 text-primary"></i>
                                            Office Phone
                                        </label>
                                        <input type="tel" class="form-control form-control-lg" id="userPhone" placeholder="+27 21 123 4567">
                                        <small class="text-muted">
                                            <i class="fas fa-info-circle me-1"></i>
                                            Optional office landline
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Section 2: Access & Security -->
                        <div class="card mb-4 shadow-sm">
                            <div class="card-header bg-light">
                                <h6 class="mb-0">
                                    <i class="fas fa-shield-alt me-2 text-success"></i>Access & Security
                                    <small class="text-muted ms-2">Role, status, and access control</small>
                                </h6>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label fw-bold">
                                            <i class="fas fa-user-tag me-1 text-success"></i>
                                            User Role <span class="text-danger">*</span>
                                        </label>
                                        <select class="form-select form-select-lg" id="userRole" required>
                                <option value="">Select Role...</option>
                                <!-- Populated by JavaScript -->
                            </select>
                                        <small class="text-muted">
                                            <i class="fas fa-info-circle me-1"></i>
                                            Determines permissions and access level
                                        </small>
                        </div>
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label fw-bold">
                                            <i class="fas fa-toggle-on me-1 text-success"></i>
                                            Account Status <span class="text-danger">*</span>
                                        </label>
                                        <select class="form-select form-select-lg" id="userStatus" required>
                                            <option value="active">✅ Active - Can login</option>
                                            <option value="inactive">⏸️ Inactive - Cannot login</option>
                                            <option value="suspended">⚠️ Suspended - Access blocked</option>
                                        </select>
                                        <small class="text-muted">
                                            <i class="fas fa-info-circle me-1"></i>
                                            Controls login access
                                        </small>
                        </div>
                                    <div class="col-md-4 mb-3">
                                        <label class="form-label fw-bold">
                                            <i class="fas fa-building me-1 text-success"></i>
                                            FSP Number
                                        </label>
                                        <input type="text" class="form-control form-control-lg" id="userFspNumber" placeholder="FSP12345">
                                        <small class="text-muted">
                                            <i class="fas fa-info-circle me-1"></i>
                                            Financial Services Provider number
                                        </small>
                        </div>
                                </div>
                                <div class="alert alert-info mb-0">
                                    <i class="fas fa-key me-2"></i>
                                    <strong>Authentication:</strong> User profiles must link to an existing auth.users account. For new users, create the authentication account first in Supabase Auth.
                                </div>
                                <!-- UUID field - hidden (auto-generated by database) -->
                                <input type="hidden" id="userId" value="">
                            </div>
                        </div>

                        <!-- Section 3: Representative Link -->
                        <div class="card mb-4 shadow-sm border-primary">
                            <div class="card-header bg-primary bg-opacity-10 border-primary">
                                <h6 class="mb-0">
                                    <i class="fas fa-user-tie me-2 text-primary"></i>Link to Representative
                                    <span class="badge bg-primary ms-2">For CPD Module Access</span>
                                </h6>
                            </div>
                            <div class="card-body" id="representativeLinkSection">
                                <!-- Current Link Status -->
                                <div id="currentRepLinkInfo" class="mb-3"></div>
                                
                                <!-- Search and Select -->
                        <div class="mb-3">
                                    <label class="form-label fw-bold">
                                        <i class="fas fa-search me-1 text-primary"></i>
                                        Search Representatives
                                    </label>
                                    <div class="input-group input-group-lg">
                                        <span class="input-group-text">
                                            <i class="fas fa-search text-muted"></i>
                                        </span>
                                        <input 
                                            type="text" 
                                            class="form-control" 
                                            id="repLinkSearch" 
                                            placeholder="Type name or rep number to search..."
                                            autocomplete="off">
                                        <button class="btn btn-outline-secondary" type="button" onclick="clearRepLink()" title="Clear search and selection">
                                            <i class="fas fa-times me-1"></i>Clear
                                        </button>
                        </div>
                                    <small class="text-muted">
                                        <i class="fas fa-lightbulb me-1"></i>
                                        <strong>Tip:</strong> Start typing to filter the list below
                                    </small>
                                </div>
                                
                        <div class="mb-3">
                                    <label class="form-label fw-bold">
                                        <i class="fas fa-list me-1 text-primary"></i>
                                        Select Representative
                                    </label>
                                    <select class="form-select form-select-lg" id="userRepresentativeLink" size="6" style="height: 180px; font-size: 0.95rem;">
                                        <option value="" class="fw-bold">
                                            <i class="fas fa-unlink"></i> No Representative Link
                                        </option>
                                        <!-- Populated by JavaScript -->
                            </select>
                                    <small class="text-muted">
                                        <i class="fas fa-info-circle me-1"></i>
                                        Representatives marked <span class="badge bg-secondary badge-sm">[LINKED]</span> are already assigned to other users
                                    </small>
                        </div>
                                
                                <div class="alert alert-primary mb-0">
                                    <div class="d-flex">
                                        <div class="me-3">
                                            <i class="fas fa-info-circle fa-2x"></i>
                        </div>
                                        <div>
                                            <h6 class="alert-heading mb-1">Why Link to Representative?</h6>
                                            <ul class="mb-0 small">
                                                <li>Required for <strong>CPD Module</strong> access</li>
                                                <li>Enables personal CPD tracking and activity logging</li>
                                                <li>One user can link to one representative only</li>
                                                <li>You can change or remove the link at any time</li>
                                            </ul>
                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Form Actions -->
                        <div class="d-flex justify-content-between align-items-center pt-3 border-top">
                            <div class="text-muted small">
                                <i class="fas fa-asterisk text-danger me-1" style="font-size: 0.5rem;"></i>
                                <span class="text-danger">*</span> indicates required fields
                            </div>
                            <div class="d-flex gap-2">
                                <button type="button" class="btn btn-lg btn-outline-secondary" data-bs-dismiss="modal">
                                    <i class="fas fa-times me-2"></i>Cancel
                                </button>
                                <button type="submit" class="btn btn-lg btn-primary">
                                    <i class="fas fa-save me-2"></i>Save User Profile
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- User Role Modal -->
    <div class="modal fade" id="userRoleModal" tabindex="-1" aria-labelledby="userRoleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="userRoleModalLabel">Add User Role</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="userRoleForm">
                        <input type="hidden" id="roleId" value="">
                        <div class="mb-3">
                            <label class="form-label">Role Name (Internal) <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="roleName" required placeholder="e.g., custom_role, auditor" pattern="[a-z0-9_]+">
                            <small class="text-muted">Lowercase, underscores only. Cannot be changed after creation.</small>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Display Name <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="roleDisplayName" required placeholder="e.g., Custom Role, Auditor">
                            <small class="text-muted">Human-readable name shown in the UI</small>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" id="roleDescription" rows="3" placeholder="Describe what this role is for and what permissions it grants"></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Permissions (JSON) <span class="text-danger">*</span></label>
                            <textarea class="form-control font-monospace" id="rolePermissions" rows="8" required placeholder='{"all": false, "actions": ["view"], "modules": ["*"]}'>{"all": false, "actions": ["view"], "modules": []}</textarea>
                            <small class="text-muted">Valid JSON object defining permissions. Use <code>{"all": true}</code> for full access.</small>
                        </div>
                        <div class="alert alert-info">
                            <strong>Permission Structure:</strong>
                            <ul class="mb-0 mt-2">
                                <li><code>"all": true</code> - Grants all permissions (FSP Owner)</li>
                                <li><code>"actions": ["view", "manage", "report"]</code> - Allowed actions</li>
                                <li><code>"modules": ["*"]</code> - All modules, or specific: ["cpd", "fica", "clients"]</li>
                            </ul>
                        </div>
                        <div class="d-flex justify-content-end gap-2">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary">Save Role</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- System Setting Modal -->
    <!-- Edit Key Individual Modal -->
    <div class="modal fade" id="editKeyIndividualModal" tabindex="-1" aria-labelledby="editKeyIndividualModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editKeyIndividualModalLabel">Edit Key Individual</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editKeyIndividualForm">
                        <input type="hidden" id="editKiId" name="ki_id">
                        <input type="hidden" id="editKiRepresentativeId" name="representative_id">
                        
                        <!-- Read-only Information -->
                        <div class="mb-3">
                            <h6>Key Individual Information</h6>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">Name</label>
                                    <input type="text" class="form-control" id="editKiName" readonly>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Type</label>
                                    <input type="text" class="form-control" id="editKiType" readonly>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">ID Number</label>
                                    <input type="text" class="form-control" id="editKiIdNumber" readonly>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Representative Number</label>
                                    <input type="text" class="form-control" id="editKiRepNumber" readonly>
                                </div>
                            </div>
                        </div>
                        
                        <hr>
                        
                        <!-- Editable Fields -->
                        <div class="mb-3">
                            <h6>Appointment Details</h6>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">Appointment Date <span class="text-danger">*</span></label>
                                    <input type="date" class="form-control" id="editKiAppointmentDate" name="appointment_date" required>
                                    <small class="text-muted">Date when this person was appointed as Key Individual</small>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Resignation Date</label>
                                    <input type="date" class="form-control" id="editKiResignationDate" name="resignation_date">
                                    <small class="text-muted">Leave empty if still active. Setting a date will deactivate this Key Individual.</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <h6>Supervision Limits</h6>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">Maximum Supervised Count <span class="text-danger">*</span></label>
                                    <input type="number" class="form-control" id="editKiMaxSupervised" name="max_supervised_count" min="0" max="100" required>
                                    <small class="text-muted">Maximum number of representatives this Key Individual can supervise</small>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Current Supervised Count</label>
                                    <input type="number" class="form-control" id="editKiCurrentSupervised" readonly>
                                    <small class="text-muted">This is automatically calculated based on assigned representatives</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle me-2"></i>
                            <strong>Note:</strong> To edit representative details (name, contact information), please use the Representatives Management module.
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="saveKeyIndividualBtn">
                        <i class="fas fa-save me-1"></i> Save Changes
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="systemSettingModal" tabindex="-1" aria-labelledby="systemSettingModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="systemSettingModalLabel">Add System Setting</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="systemSettingForm">
                        <input type="hidden" id="settingId" value="">
                        <div class="mb-3">
                            <label class="form-label">Setting Key <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="settingKey" required placeholder="e.g., app_name, max_upload_size">
                            <small class="text-muted">Unique identifier for this setting (lowercase, underscores)</small>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Setting Type <span class="text-danger">*</span></label>
                            <select class="form-select" id="settingType" required>
                                <option value="string">String</option>
                                <option value="number">Number</option>
                                <option value="boolean">Boolean</option>
                                <option value="json">JSON</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Category <span class="text-danger">*</span></label>
                            <select class="form-select" id="settingCategory" required>
                                <option value="general">General</option>
                                <option value="compliance">Compliance</option>
                                <option value="notifications">Notifications</option>
                                <option value="security">Security</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Setting Value <span class="text-danger">*</span></label>
                            <textarea class="form-control" id="settingValue" rows="4" required placeholder='Enter value based on type. For JSON: {"key": "value"}'></textarea>
                            <small class="text-muted">For boolean: use "true" or "false". For JSON: valid JSON object</small>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <textarea class="form-control" id="settingDescription" rows="2" placeholder="Optional description of what this setting does"></textarea>
                        </div>
                        <div class="d-flex justify-content-end gap-2">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn btn-primary">Save Setting</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Audit Log Detail Modal -->
    <div class="modal fade" id="auditLogDetailModal" tabindex="-1" aria-labelledby="auditLogDetailModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="auditLogDetailModalLabel">Audit Log Detail</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="auditLogDetailContent">
                    <!-- Content loaded dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Core App Files -->
    <script src="../../../js/auth-service.js"></script>
    <script src="../../../js/data-functions.js"></script>
    <!-- Custom JS -->
    <script src="../js/settings-administration.js"></script>
</body>
</html>

