<div class="dashboard-wrapper">
    <div class="card dashboard-hero mb-4">
        <div class="card-body d-flex flex-column flex-md-row justify-content-between align-items-md-center gap-3">
            <div>
                <p class="dashboard-label mb-1">Hope Diamond â€¢ Fleet Overview</p>
                <h1 class="dashboard-title mb-1">Dashboard</h1>
                <p class="dashboard-subtitle mb-0">Live summary of inspections and fleet performance.</p>
    </div>
            <div class="text-end">
                <span class="badge dashboard-live">Live Updates</span>
                <div class="text-muted small">Last updated: <span id="dashboardLastUpdated">--:--</span></div>
            </div>
        </div>
    </div>

    <div class="row g-3 mb-4">
        <div class="col-xl-3 col-md-6">
            <div class="dashboard-stat-card">
                <p class="label">Inspections Today</p>
                <div class="value text-primary" id="statInspections">--</div>
                <small class="text-muted" id="statInspectionsSub">Loading...</small>
            </div>
        </div>
        <div class="col-xl-3 col-md-6">
            <div class="dashboard-stat-card">
                <p class="label">Passed</p>
                <div class="value text-success" id="statPassed">--</div>
                <small class="text-muted">Successful inspections</small>
            </div>
                    </div>
        <div class="col-xl-3 col-md-6">
            <div class="dashboard-stat-card">
                <p class="label">Pending</p>
                <div class="value text-warning" id="statPending">--</div>
                <small class="text-muted">Awaiting review</small>
                    </div>
                </div>
        <div class="col-xl-3 col-md-6">
            <div class="dashboard-stat-card">
                <p class="label">Failed</p>
                <div class="value text-danger" id="statFailed">--</div>
                <small class="text-muted">Requires action</small>
            </div>
        </div>
    </div>

    <div class="row g-3 align-items-stretch">
        <div class="col-lg-8 d-flex flex-column">
            <div class="card dashboard-chart-card mb-3" style="flex: 1 1 0;">
                <div class="card-header border-0 d-flex justify-content-between align-items-center">
                    <div class="d-flex align-items-center gap-3 flex-wrap">
                        <h5 class="mb-0">Inspection Trends</h5>
                        <select id="trendPeriodSelect" class="form-select form-select-sm" style="width: auto;">
                            <option value="day">Today</option>
                            <option value="week" selected>Last 7 Days</option>
                            <option value="month">Last 30 Days</option>
                            <option value="custom">Custom Range</option>
                        </select>
                        <div id="customDateRange" class="d-flex align-items-center gap-2">
                            <input type="date" id="customDateFrom" class="form-control form-control-sm" style="width: auto;">
                            <span class="text-muted">to</span>
                            <input type="date" id="customDateTo" class="form-control form-control-sm" style="width: auto;">
                            <button type="button" id="applyCustomRange" class="btn btn-sm btn-primary">
                                <i class="fas fa-check"></i>
                            </button>
                        </div>
                    </div>
                    <div class="legend">
                        <span class="legend-item passed">Passed</span>
                        <span class="legend-item pending">Pending</span>
                        <span class="legend-item failed">Failed</span>
                    </div>
                </div>
                <div class="card-body">
                    <canvas id="inspectionTrendChart" height="220"></canvas>
                    <div class="chart-empty text-center py-4 d-none" id="chartEmptyState">
                        <i class="fas fa-chart-line mb-2 text-muted"></i>
                        <p class="mb-0 text-muted">No inspection data for this period.</p>
            </div>
        </div>
    </div>

            <div class="card dashboard-table-card" style="flex: 1 1 0;">
                <div class="card-header border-0">
                    <h5 class="mb-0">Recent Inspections</h5>
                    </div>
                <div class="table-responsive px-3">
                    <table class="table mb-0">
                        <thead>
                            <tr>
                                <th>Vehicle</th>
                                <th>Driver</th>
                                <th>Date</th>
                                <th>Status</th>
                                <th>Defects</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody id="recentInspectionsBody">
                            <tr>
                                <td colspan="6" class="text-center py-4 text-muted">Loading inspections...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-lg-4 d-flex flex-column">
            <div class="card dashboard-summary-card mb-3" style="flex: 1 1 0;">
                <div class="card-header border-0">
                    <h5 class="mb-0">Fleet Snapshot</h5>
            </div>
            <div class="card-body">
                    <div class="snapshot-row">
                        <span>Total Vehicles</span>
                        <strong id="snapshotVehicles">--</strong>
                        </div>
                    <div class="snapshot-row">
                        <span>Active</span>
                        <strong id="snapshotActive">--</strong>
                    </div>
                    <div class="snapshot-row">
                        <span>Maintenance</span>
                        <strong id="snapshotMaintenance">--</strong>
                    </div>
                    <div class="snapshot-row">
                        <span>Out of Service</span>
                        <strong id="snapshotOut">--</strong>
            </div>
        </div>
    </div>

            <div class="card dashboard-summary-card" style="flex: 1 1 0;">
                <div class="card-header border-0">
                    <h5 class="mb-0">Drivers Snapshot</h5>
            </div>
            <div class="card-body">
                    <div class="snapshot-row">
                        <span>Total Drivers</span>
                        <strong id="snapshotDriversTotal">--</strong>
                    </div>
                    <div class="snapshot-row">
                        <span>Active</span>
                        <strong id="snapshotDriversActive">--</strong>
                    </div>
                    <div class="snapshot-row">
                        <span>Valid Licenses</span>
                        <strong id="snapshotDriversValid">--</strong>
                    </div>
                    <div class="snapshot-row">
                        <span>Expired Licenses</span>
                        <strong id="snapshotDriversExpired">--</strong>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>